# Nginx 反向代理配置示例
# 如果服务器上已有Nginx，可以将此配置添加到现有配置中

# 方案A: 通过子路径访问 (推荐，不冲突)
# 访问地址: http://8.136.59.48/ocr
server {
    listen 80;
    server_name 8.136.59.48;  # 或你的域名

    # 其他系统的路由配置...
    
    # OCR系统的反向代理
    location /ocr {
        proxy_pass http://127.0.0.1:5050;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # WebSocket支持（如果需要）
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}

# 方案B: 通过子域名访问
# 需要配置DNS解析 ocr.yourdomain.com 指向 8.136.59.48
# server {
#     listen 80;
#     server_name ocr.yourdomain.com;
# 
#     location / {
#         proxy_pass http://127.0.0.1:5050;
#         proxy_set_header Host $host;
#         proxy_set_header X-Real-IP $remote_addr;
#         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
#     }
# }

